@page "/category-catalog"

<PageTitle>Catálogo de Categorias X</PageTitle>
<MudText Class="mt-3 mb-5" Typo="Typo.h5">Catálogo</MudText>

<MudButton Color="Color.Primary" OnClick="OpenAddCategoryDialog">Adicionar</MudButton>
<MudButton Color="Color.Primary" OnClick="OpenUpdateDialog">Atualizar</MudButton>
<MudButton Color="Color.Primary" OnClick="DeleteProduct">Deletar</MudButton>

@if (_categories == null)
{
    <MudProgressCircular Color="Color.Default" Indeterminate="true" />
}
else
{
    <MudDataGrid T="CategoryDTO" MultiSelection="true" Items="@_categories" SortMode="SortMode.Multiple" Filterable="true" QuickFilter="@_quickFilter"
                 Hideable="true" RowClick="@RowClicked" RowContextMenuClick="RowRightClicked" SelectedItemsChanged="@SelectedItemsChanged">
        <ToolBarContent>
            <MudText Typo="Typo.h6">Categorias</MudText>
            <MudSpacer />
            <MudTextField @bind-Value="_searchString" Placeholder="Search" Adornment="Adornment.Start" Immediate="true"
                          AdornmentIcon="@Icons.Material.Filled.Search" IconSize="Size.Medium" Class="mt-0"></MudTextField>
        </ToolBarContent>
        <Columns>
            <SelectColumn T="CategoryDTO" />
            <PropertyColumn Property="x => x.Id" Title="Id" Sortable="false" Filterable="false" />
            <PropertyColumn Property="x => x.Titulo" />
            <PropertyColumn Property="x => x.Descricao" />
        </Columns>
        <PagerContent>
            <MudDataGridPager T="CategoryDTO" />
        </PagerContent>
    </MudDataGrid>
}

@page "/cadastro"

@using Product_Catalog.Client.DTOs
@using Product_Catalog.Client.Layout
@using _1_BaseDTOs.Login
@layout AuthenticationLayout

<MudContainer Class="d-flex justify-center align-center min-height-100vh main-content">
    <MudCard Class="mud-elevation-12 card-login" Style="background-color: rgba(1, 1, 1, 0.8);">
        <MudCardHeader Class="d-flex justify-center">
            <MudText Typo="Typo.h5">Cadastro</MudText>
        </MudCardHeader>

        <MudCardContent>
            <EditForm Enhance Model="User" OnValidSubmit="HandleRegister">
                <DataAnnotationsValidator />
                <MudTextField 
                    @bind-Value="User.NomeCompleto" 
                    Label="Nome completo" 
                    For="@(() => User.NomeCompleto)" />
                <MudTextField 
                    InputType="InputType.Email" 
                    @bind-Value="User.Email" 
                    Label="E-mail" 
                    For="@(() => User.Email)" />
                <MudTextField 
                    InputType="InputType.Telephone" 
                    @bind-Value="User.Telefone" 
                    Label="Telefone" 
                    For="@(() => User.Telefone)" />
                <MudTextField 
                    @bind-Value="User.Cidade" 
                    Label="Cidade" 
                    For="@(() => User.Cidade)" />
                <MudTextField 
                    id="passwordField" 
                    @bind-Value="User.Senha" 
                    Label="Senha" 
                    For="@(() => User.Senha)" />
                <MudTextField 
                    id="passwordField" 
                    @bind-Value="User.ComfirmarSenha" 
                    Label="Comfirmar senha" 
                    For="@(() => User.ComfirmarSenha)" />
 
                <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="@_registerButtonColor" Class="mt-4" FullWidth="true">
                    @if (_isRegistering)
                    {
                        <MudProgressCircular Class="ms-n1" Size="Size.Small" Indeterminate="true" />
                    }
                    else
                    {
                        <MudText>Cadastrar</MudText>                        
                    }
                </MudButton>
            </EditForm>
        </MudCardContent>

        <MudCardActions Class="justify-center">
            <MudText Typo="Typo.caption" Class="text-center">
               Já tem uma conta?
                <MudLink Href="/" Class="ml-2">Faça o login</MudLink>
            </MudText>
        </MudCardActions>
    </MudCard>
</MudContainer>

<style>
    .main-content {
        display: flex;
        justify-content: center;
        margin-top: 8em !important;
    }

    .mud-paper {
        min-width: 350px;
        border-radius: 10px;
    }

    .mud-card-content {
        padding: 25px !important;
    }

    .mud-card-actions {
        justify-content: center;
    }

    .mud-snackbar-location-top-center {
        top: 49em;
        max-width: 350px;
        min-width: 350px;
    }
</style>

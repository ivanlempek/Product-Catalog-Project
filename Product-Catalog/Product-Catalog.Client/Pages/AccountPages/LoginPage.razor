@page "/"

@using Product_Catalog.Client.Layout
@layout AuthenticationLayout 

<MudContainer Class="d-flex justify-center align-center min-height-100vh main-content">
    <MudCard Class="mud-elevation-12 card-login" Style="background-color: rgba(1, 1, 1, 0.8);">
        <MudCardHeader Class="d-flex justify-center">
            <MudText Typo="Typo.h5">Login</MudText>
        </MudCardHeader>

        <EditForm Enhance Model="UserLogin" OnValidSubmit="HandleLogin">
        <DataAnnotationsValidator />
        <MudGrid>
            <MudItem>
                <MudCard Style="background-color: rgba(1, 1, 1, 0);">
                    <MudCardContent>
                        <MudTextField Label="E-mail" 
                            @bind-Value="UserLogin.Email" 
                            For="@(() => UserLogin.Email)" />
                        <MudTextField Label="Senha"
                            id="passwordField"
                            @bind-Value="UserLogin.Senha" 
                            For="@(() => UserLogin.Senha)" />
                    </MudCardContent>

                    <MudCardActions>
                        <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="@_loginButtonColor" Class="mt-1" FullWidth="true">
                            @if (_validatingLoging)
                            {
                                <MudProgressCircular Class="ms-n1" Size="Size.Small" Indeterminate="true" />
                            } 
                            else
                            {
                                <MudText>Login</MudText>
                            }
                        </MudButton>
                    </MudCardActions>
                </MudCard>
            </MudItem>
        </MudGrid>   
        </EditForm>

        <MudCardActions Class="justify-center">
            <MudText Typo="Typo.caption" Class="text-center">
                Ainda não tem uma conta?
                <MudLink @onclick="NavToRegisterPage" Class="ml-2">Cadastre-se</MudLink>
            </MudText>
        </MudCardActions>
    </MudCard>

</MudContainer>

<style>
    .main-content {
        display: flex;
        justify-content: center;
        margin-top: 8em !important;
    }

    .mud-paper {
        min-width: 350px;
        border-radius: 10px;
    }

    .mud-card-content {
        padding: 25px !important;
    }

    .mud-card-actions {
        justify-content: center;
    }

    .mud-button {
        width: 90% !important;
    }

    .mud-snackbar-location-top-center {
        top: 36em;
        max-width: 350px;
        min-width: 350px;
    }
</style>


